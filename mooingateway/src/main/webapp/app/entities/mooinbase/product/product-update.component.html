<div class="row justify-content-center">
    <div class="col-8">
        <form name="editForm" role="form" novalidate (ngSubmit)="save()" [formGroup]="editForm">
            <h2 id="jhi-product-heading" jhiTranslate="mooingatewayApp.mooinbaseProduct.home.createOrEditLabel">Create or edit a Product</h2>

            <div>
                <jhi-alert-error></jhi-alert-error>

                <div class="form-group" [hidden]="!editForm.get('id')!.value">
                    <label for="id" jhiTranslate="global.field.id">ID</label>
                    <input type="text" class="form-control" id="id" name="id" formControlName="id" readonly />
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.companyID" for="field_companyID">Company ID</label>
                    <input type="number" class="form-control" name="companyID" id="field_companyID"
                           formControlName="companyID"/>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.reference" for="field_reference">Reference</label>
                    <input type="text" class="form-control" name="reference" id="field_reference"
                           formControlName="reference"/>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.referenceProvider" for="field_referenceProvider">Reference Provider</label>
                    <input type="text" class="form-control" name="referenceProvider" id="field_referenceProvider"
                           formControlName="referenceProvider"/>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.name" for="field_name">Name</label>
                    <input type="text" class="form-control" name="name" id="field_name"
                           formControlName="name"/>
                    <div *ngIf="editForm.get('name')!.invalid && (editForm.get('name')!.dirty || editForm.get('name')!.touched)">
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('name')?.errors?.required" jhiTranslate="entity.validation.required">
                        This field is required.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.quantity" for="field_quantity">Quantity</label>
                    <input type="number" class="form-control" name="quantity" id="field_quantity"
                           formControlName="quantity"/>
                    <div *ngIf="editForm.get('quantity')!.invalid && (editForm.get('quantity')!.dirty || editForm.get('quantity')!.touched)">
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('quantity')?.errors?.required" jhiTranslate="entity.validation.required">
                        This field is required.
                        </small>
                        <small class="form-text text-danger"
                            [hidden]="!editForm.get('quantity')?.errors?.number" jhiTranslate="entity.validation.number">
                            This field should be a number.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.purchaseUnitPrice" for="field_purchaseUnitPrice">Purchase Unit Price</label>
                    <input type="number" class="form-control" name="purchaseUnitPrice" id="field_purchaseUnitPrice"
                           formControlName="purchaseUnitPrice"/>
                    <div *ngIf="editForm.get('purchaseUnitPrice')!.invalid && (editForm.get('purchaseUnitPrice')!.dirty || editForm.get('purchaseUnitPrice')!.touched)">
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('purchaseUnitPrice')?.errors?.required" jhiTranslate="entity.validation.required">
                        This field is required.
                        </small>
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('purchaseUnitPrice')?.errors?.min" jhiTranslate="entity.validation.min" [translateValues]="{ min: 0 }">
                            This field should be at least 0.
                        </small>
                        <small class="form-text text-danger"
                            [hidden]="!editForm.get('purchaseUnitPrice')?.errors?.number" jhiTranslate="entity.validation.number">
                            This field should be a number.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.saleUnitPrice" for="field_saleUnitPrice">Sale Unit Price</label>
                    <input type="number" class="form-control" name="saleUnitPrice" id="field_saleUnitPrice"
                           formControlName="saleUnitPrice"/>
                    <div *ngIf="editForm.get('saleUnitPrice')!.invalid && (editForm.get('saleUnitPrice')!.dirty || editForm.get('saleUnitPrice')!.touched)">
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('saleUnitPrice')?.errors?.required" jhiTranslate="entity.validation.required">
                        This field is required.
                        </small>
                        <small class="form-text text-danger"
                               *ngIf="editForm.get('saleUnitPrice')?.errors?.min" jhiTranslate="entity.validation.min" [translateValues]="{ min: 0 }">
                            This field should be at least 0.
                        </small>
                        <small class="form-text text-danger"
                            [hidden]="!editForm.get('saleUnitPrice')?.errors?.number" jhiTranslate="entity.validation.number">
                            This field should be a number.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.stocklimit" for="field_stocklimit">Stocklimit</label>
                    <input type="number" class="form-control" name="stocklimit" id="field_stocklimit"
                           formControlName="stocklimit"/>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.stocklimitAlert" for="field_stocklimitAlert">Stocklimit Alert</label>
                    <input type="checkbox" class="form-control" name="stocklimitAlert" id="field_stocklimitAlert"
                           formControlName="stocklimitAlert"/>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.unitType" for="field_unitType">Unit Type</label>
                    <select class="form-control" name="unitType" formControlName="unitType" id="field_unitType">
                        <option value="NONE">{{ 'mooingatewayApp.ProductUnitEnum.NONE' | translate }}</option>
                        <option value="METER">{{ 'mooingatewayApp.ProductUnitEnum.METER' | translate }}</option>
                        <option value="KG">{{ 'mooingatewayApp.ProductUnitEnum.KG' | translate }}</option>
                        <option value="LITER">{{ 'mooingatewayApp.ProductUnitEnum.LITER' | translate }}</option>
                        <option value="PIECE">{{ 'mooingatewayApp.ProductUnitEnum.PIECE' | translate }}</option>
                        <option value="UNIT">{{ 'mooingatewayApp.ProductUnitEnum.UNIT' | translate }}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.size" for="field_size">Size</label>
                    <select class="form-control" name="size" formControlName="size" id="field_size">
                        <option value="NONE">{{ 'mooingatewayApp.Size.NONE' | translate }}</option>
                        <option value="S">{{ 'mooingatewayApp.Size.S' | translate }}</option>
                        <option value="M">{{ 'mooingatewayApp.Size.M' | translate }}</option>
                        <option value="L">{{ 'mooingatewayApp.Size.L' | translate }}</option>
                        <option value="XL">{{ 'mooingatewayApp.Size.XL' | translate }}</option>
                        <option value="XXL">{{ 'mooingatewayApp.Size.XXL' | translate }}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.color" for="field_color">Color</label>
                    <input type="text" class="form-control" name="color" id="field_color"
                           formControlName="color"/>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.image" for="field_image">Image</label>
                    <div>
                        <img [src]="'data:' + editForm.get('imageContentType')!.value + ';base64,' + editForm.get('image')!.value" style="max-height: 100px;" *ngIf="editForm.get('image')!.value" alt="product image"/>
                        <div *ngIf="editForm.get('image')!.value" class="form-text text-danger clearfix">
                            <span class="pull-left">{{ editForm.get('imageContentType')!.value }}, {{ byteSize(editForm.get('image')!.value) }}</span>
                            <button type="button" (click)="clearInputImage('image', 'imageContentType', 'file_image')" class="btn btn-secondary btn-xs pull-right">
                                <fa-icon icon="times"></fa-icon>
                            </button>
                        </div>
                        <input type="file" id="file_image" (change)="setFileData($event, 'image', true)" accept="image/*" jhiTranslate="entity.action.addimage"/>
                    </div>
                    <input type="hidden" class="form-control" name="image" id="field_image"
                           formControlName="image"/>
                    <input type="hidden" class="form-control" name="imageContentType" id="field_imageContentType"
                           formControlName="imageContentType" />
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.isDisplayedInCashier" for="field_isDisplayedInCashier">Is Displayed In Cashier</label>
                    <input type="checkbox" class="form-control" name="isDisplayedInCashier" id="field_isDisplayedInCashier"
                           formControlName="isDisplayedInCashier"/>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.productCategory" for="field_productCategory">Product Category</label>
                    <select class="form-control" id="field_productCategory" name="productCategory" formControlName="productCategory">
                        <option [ngValue]="null"></option>
                        <option [ngValue]="productCategoryOption.id === editForm.get('productCategory')!.value?.id ? editForm.get('productCategory')!.value : productCategoryOption" *ngFor="let productCategoryOption of productcategories; trackBy: trackById">{{ productCategoryOption.id }}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.productMark" for="field_productMark">Product Mark</label>
                    <select class="form-control" id="field_productMark" name="productMark" formControlName="productMark">
                        <option [ngValue]="null"></option>
                        <option [ngValue]="productMarkOption.id === editForm.get('productMark')!.value?.id ? editForm.get('productMark')!.value : productMarkOption" *ngFor="let productMarkOption of productmarks; trackBy: trackById">{{ productMarkOption.id }}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-control-label" jhiTranslate="mooingatewayApp.mooinbaseProduct.depot" for="field_depot">Depot</label>
                    <select class="form-control" id="field_depot" name="depot" formControlName="depot">
                        <option [ngValue]="null"></option>
                        <option [ngValue]="depotOption.id === editForm.get('depot')!.value?.id ? editForm.get('depot')!.value : depotOption" *ngFor="let depotOption of depots; trackBy: trackById">{{ depotOption.id }}</option>
                    </select>
                </div>
            </div>

            <div>
                <button type="button" id="cancel-save" class="btn btn-secondary" (click)="previousState()">
                    <fa-icon icon="ban"></fa-icon>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
                </button>

                <button type="submit" id="save-entity" [disabled]="editForm.invalid || isSaving" class="btn btn-primary">
                    <fa-icon icon="save"></fa-icon>&nbsp;<span jhiTranslate="entity.action.save">Save</span>
                </button>
            </div>
        </form>
    </div>
</div>
